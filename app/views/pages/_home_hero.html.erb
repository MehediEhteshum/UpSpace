<section class="hero is-large has-carousel">
    <div class="hero-carousel image-hero-carousel">
        <div class="has-background">
            <img class="is-background" src="/home_hero/find_meeting_space.jpg" alt="Find a meeting space">
            <div class="up-hero-text">
                <h1 class="title is-1 has-text-centered"><br />Meeting</h1>
            </div>
        </div>
        <div class="has-background">
            <img class="is-background" src="/home_hero/find_relaxing_space.jpg" alt="Find a relaxing space">
            <div class="up-hero-text">
                <h1 class="title is-1 has-text-centered"><br />Relaxing</h1>
            </div>
        </div>
        <div class="has-background">
            <img class="is-background" src="/home_hero/find_coworking_space.jpg" alt="Find a coworking space">
            <div class="up-hero-text">
                <h1 class="title is-1 has-text-centered"><br />Co-Working</h1>
            </div>
        </div>
        <div class="has-background">
            <img class="is-background" src="/home_hero/find_event_space.jpg" alt="Find an event space">
            <div class="up-hero-text">
                <h1 class="title is-1 has-text-centered"><br />Event</h1>
            </div>
        </div>
        <div class="has-background">
            <img class="is-background" src="/home_hero/find_working_space.jpg" alt="Find a working space">
            <div class="up-hero-text">
                <h1 class="title is-1 has-text-centered"><br />Working</h1>
            </div>
        </div>
    </div>
    <div class="hero-head"></div>
    <div class="hero-body">
        <h3 class="title is-3 has-text-centered">Find your <br /><br />Space</h3>

        <div class="up-hero-actions">
            <%= link_to "Find a Space", search_path, class: "button is-large is-danger x-10 y-2" %>
            <% if user_signed_in? %>
            <% if current_user.spaces.any? %>
            <%= link_to "List Your Space", new_space_path, class: "button is-large is-primary x-10 y-2" %>
            <% else %>
            <%= link_to "List Your Space", become_a_host_path, class: "button is-large is-primary x-10 y-2" %>
            <% end %>
            <% else %>
            <%= link_to "List Your Space", become_a_host_path, class: "button is-large is-primary x-10 y-2" %>
            <% end %>
        </div>
    </div>
    <div class="hero-foot"></div>
</section>

<style>
    .image-hero-carousel .slider-navigation-previous,
    .image-hero-carousel .slider-navigation-next {
        display: none;
    }

    .image-hero-carousel .has-background {
        height: 100%;
        position: relative;
    }

    .image-hero-carousel .has-background .is-background {
        opacity: 0.4;
    }

    .hero.is-large .hero-body {
        padding-bottom: 5rem;
        padding-top: 5rem;
    }

    @media screen and (min-width: 769px), print {
        .hero.is-large .hero-body {
            padding-bottom: 10rem;
            padding-top: 10rem;
        }

        .hero.has-carousel .image-hero-carousel .up-hero-text {
            padding-top: 10rem;
        }
    }

    .image-hero-carousel .slider-container {
        height: 100%;
    }

    .hero .hero-body .title{
        line-height: 54px;
    }

    .image-hero-carousel .up-hero-text {
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        display: flex;
        justify-content: center;
        padding-top: 5rem;
    }

    .up-hero-actions {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
    }
</style>

<script>
    var heroInstance = bulmaCarousel.attach('.image-hero-carousel', {
      slidesToScroll: 1,
      slidesToShow: 1,
      loop: true,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 5000,
      navigation: false,
      navigationKeys: false,
      pagination:false,
      pauseOnHover: false,
      breakpoints:[
          { changePoint: 480, slidesToShow: 1, slidesToScroll: 1 }, 
          { changePoint: 640, slidesToShow: 1, slidesToScroll: 1 }, 
          { changePoint: 768, slidesToShow: 1, slidesToScroll: 1 } 
        ]
    });

    // HACK - on mobile we don't want users to swipe
    // have to unbind swipe events, though _swipe is private
    heroInstance.forEach(function(inst){
        inst._swipe.unbindEvents();
    });

    /* Reset banner on resize */
    $(window).resize(function(){
        heroInstance.forEach(function(inst) {
            inst.reset();
        });
    });
  </script>